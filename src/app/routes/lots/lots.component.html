<div class="alt">
  <div class="main-container">
    <div class="row">
      <div class="col-12">
        <h3 class="m-0">Lotes</h3>
      </div>
      <div class="col">
        <p class="text-18">Ve la lista de lotes, edita, habilita/deshabilita o agrega nuevos.</p>
      </div>
    </div>
  </div>
</div>

<div class="main-container">
  <div class="row">
    <div class="col-12 col-sm-12 col-md-6 col-lg-6">
      <em class="fa-2x mr-2 fas fa-search pos-icon"></em>
      <input class="form-control mb-2" type="text" placeholder="Buscar..." (keyup)='updateFilter($event)'
        style="border-radius: 21px;" />
    </div>
    <div class="col text-right">
      <button class="mb-1 mr-1 btn btn-success" type="button" routerLink="/Lotes/new">Agregar nuevo
        Lote</button>
    </div>
  </div>

  <div class="main-container">
    <div class="card card-default mt-4">
    <div class="row">
      <div class="col-12 col-md-12 col-lg-12 col-xl-6 p-0">
        <div class="card-body pr-0" style="height: 100%;">       
          <ngx-datatable #table class="bootstrap expandable material fullscreen "  style="height: calc(90vh - 270px); box-shadow: none; width: 100%;"
          [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50"
         [rowHeight]="60" [scrollbarV]="true" [scrollbarH]="true" [rows]='listlots' (page)="onPage($event)">
            <ngx-datatable-column name="#"  [width]="50" [canAutoResize]="false">
              <ng-template let-rowIndex="rowIndex" ngx-datatable-cell-template>
                <strong>{{rowIndex + 1}}</strong>
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Nombre(s)">
              <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.name}}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Acción">
              <ng-template let-row="row" ngx-datatable-cell-template>
                <button class="btn btn-info m-1 respo" type="button" (click)="showmap(row.id)">
                  <a class="fas fa-eye"></a> </button>
                <button class="btn btn-success m-1 respo" type="button" [routerLink]="['/Lotes/',row.id]">
                  <a class="fas fa-pencil-alt"></a> </button>
                <button class="btn btn-danger respo" (click)="delete(row)">
                  <a class="fas fa-trash-alt" ></a>
                </button>
              </ng-template>
            </ngx-datatable-column>
          </ngx-datatable>
        </div>
      </div>
      <div class="col">
          <div class="card-body">  
        <agm-map [latitude]="lat" [longitude]="lng" [zoom]="zoom" [streetViewControl]="false">                
          <agm-polyline *ngFor="let polyline of nestedPaths;let i = index;" [strokeColor]="	'#4caf50'" [strokeWeight]="">
            <agm-polyline-point *ngFor="let point of polyline" [latitude]="point.lat" [longitude]="point.lng">
            </agm-polyline-point>
          </agm-polyline>
          <agm-polyline *ngFor="let polyline of mostrarsublotes;let i = index;" [strokeColor]="polyline.color" [strokeWeight]="3">
            <agm-polyline-point *ngFor="let point of polyline.subfieldCoordinates" [latitude]="point.lat" [longitude]="point.lng">
            </agm-polyline-point>
          </agm-polyline>
        </agm-map>
        </div>
      
    </div>
    </div>
  </div>
  <!-- <div class="row">
    <div class="col-12 col-md-6 col-lg-6 col-xl-6">
    <div class="card card-default mt-4">
      <div class="card-body">       
          <ngx-datatable #table class="bootstrap expandable material fullscreen "  style="height: calc(90vh - 270px); box-shadow: none; width: 100%;"
          [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50"
         [rowHeight]="60" [scrollbarV]="true" [scrollbarH]="true" [rows]='listlots' (page)="onPage($event)">
            <ngx-datatable-column name="#"  [width]="50" [canAutoResize]="false">
              <ng-template let-rowIndex="rowIndex" ngx-datatable-cell-template>
                <strong>{{rowIndex + 1}}</strong>
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Nombre(s)">
              <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.name}}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Acción">
              <ng-template let-row="row" ngx-datatable-cell-template>
                <button class="btn btn-info m-1" type="button" (click)="showmap(row.id)">
                  <a class="fas fa-eye"></a> </button>
                <button class="btn btn-success m-1" type="button" [routerLink]="['/Lotes/',row.id]">
                  <a class="fas fa-pencil-alt"></a> </button>
                <button class="btn btn-danger" (click)="delete(row)">
                  <a class="fas fa-trash-alt" ></a>
                </button>
              </ng-template>
            </ngx-datatable-column>
          </ngx-datatable>
        </div>
        <div class="col">
          <div>
            <div class="card card-default mt-4">
              <div class="card-body">  
            <agm-map [latitude]="lat" [longitude]="lng" [zoom]="zoom" [streetViewControl]="false">                
              <agm-polyline *ngFor="let polyline of nestedPaths;let i = index;" [strokeColor]="	'#4caf50'" [strokeWeight]="">
                <agm-polyline-point *ngFor="let point of polyline" [latitude]="point.lat" [longitude]="point.lng">
                </agm-polyline-point>
              </agm-polyline>
              <agm-polyline *ngFor="let polyline of mostrarsublotes;let i = index;" [strokeColor]="polyline.color" [strokeWeight]="3">
                <agm-polyline-point *ngFor="let point of polyline.subfieldCoordinates" [latitude]="point.lat" [longitude]="point.lng">
                </agm-polyline-point>
              </agm-polyline>
            </agm-map>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
  </div> -->
</div>
  